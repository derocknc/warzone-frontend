{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/Users/dstutts/side/wz/warzone-frontend/pages/index.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Head from 'next/head';\nimport axios from 'axios';\nimport Chart from 'chart.js';\nimport { Table, TableCell, TableHead, TableBody, TableRow, TableSortLabel } from \"@material-ui/core\";\nimport { useEffect, useState, useRef } from 'react';\nimport BarChart from '../components/BarChart';\nimport TabPanels from '../components/TabPanels';\nimport \"../styles/styles.scss\";\nvar prodHost = 'https://wz-api.herokuapp.com';\nvar localhost = 'http://localhost:5500';\nvar host = false ? prodHost : localhost;\nexport default function Home() {\n  _s();\n\n  var _useState = useState(null),\n      playerData = _useState[0],\n      setPlayerData = _useState[1];\n\n  var _useState2 = useState(null),\n      playerWeeklyData = _useState2[0],\n      setPlayerWeeklyData = _useState2[1];\n\n  useEffect(function () {\n    _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response, _response;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (playerData) {\n                _context.next = 11;\n                break;\n              }\n\n              _context.prev = 1;\n              _context.next = 4;\n              return axios.get(\"\".concat(host, \"/\"));\n\n            case 4:\n              response = _context.sent;\n              setPlayerData(response.data);\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](1);\n              console.log(_context.t0);\n\n            case 11:\n              if (playerWeeklyData) {\n                _context.next = 22;\n                break;\n              }\n\n              _context.prev = 12;\n              _context.next = 15;\n              return axios.get(\"\".concat(host, \"/weekly\"));\n\n            case 15:\n              _response = _context.sent;\n              setPlayerWeeklyData(_response.data);\n              _context.next = 22;\n              break;\n\n            case 19:\n              _context.prev = 19;\n              _context.t1 = _context[\"catch\"](12);\n              console.log(_context.t1);\n\n            case 22:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 8], [12, 19]]);\n    }))();\n  }, []);\n  return __jsx(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, __jsx(TabPanels, {\n    playerData: playerData,\n    playerWeeklyData: playerWeeklyData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }));\n}\n\n_s(Home, \"HddJuvmuRbkNLJz5J7bO710bgfU=\");\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/dstutts/side/wz/warzone-frontend/pages/index.js"],"names":["Head","axios","Chart","Table","TableCell","TableHead","TableBody","TableRow","TableSortLabel","useEffect","useState","useRef","BarChart","TabPanels","prodHost","localhost","host","Home","playerData","setPlayerData","playerWeeklyData","setPlayerWeeklyData","get","response","data","console","log"],"mappings":";;;;;;;;AAAA,OAAOA,IAAP,MAAiB,WAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,SACEC,KADF,EAEEC,SAFF,EAGEC,SAHF,EAIEC,SAJF,EAKEC,QALF,EAMEC,cANF,QAOO,mBAPP;AAQA,SAASC,SAAT,EAAoBC,QAApB,EAA8BC,MAA9B,QAA4C,OAA5C;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAO,uBAAP;AAEA,IAAMC,QAAQ,GAAG,8BAAjB;AACA,IAAMC,SAAS,GAAG,uBAAlB;AAEA,IAAMC,IAAI,GAAG,QAAwCF,QAAxC,GAAmDC,SAAhE;AAEA,eAAe,SAASE,IAAT,GAAgB;AAAA;;AAAA,kBAEKP,QAAQ,CAAC,IAAD,CAFb;AAAA,MAExBQ,UAFwB;AAAA,MAEZC,aAFY;;AAAA,mBAGiBT,QAAQ,CAAC,IAAD,CAHzB;AAAA,MAGxBU,gBAHwB;AAAA,MAGNC,mBAHM;;AAK/BZ,EAAAA,SAAS,CAAC,YAAM;AACd,6DAAC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,kBACMS,UADN;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,qBAG4BjB,KAAK,CAACqB,GAAN,WAAaN,IAAb,OAH5B;;AAAA;AAGWO,cAAAA,QAHX;AAIKJ,cAAAA,aAAa,CAACI,QAAQ,CAACC,IAAV,CAAb;AAJL;AAAA;;AAAA;AAAA;AAAA;AAMKC,cAAAA,OAAO,CAACC,GAAR;;AANL;AAAA,kBASMN,gBATN;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,qBAW4BnB,KAAK,CAACqB,GAAN,WAAaN,IAAb,aAX5B;;AAAA;AAWWO,cAAAA,SAXX;AAYKF,cAAAA,mBAAmB,CAACE,SAAQ,CAACC,IAAV,CAAnB;AAZL;AAAA;;AAAA;AAAA;AAAA;AAcKC,cAAAA,OAAO,CAACC,GAAR;;AAdL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD;AAkBD,GAnBQ,EAmBN,EAnBM,CAAT;AAqBE,SACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,SAAD;AACE,IAAA,UAAU,EAAER,UADd;AAEE,IAAA,gBAAgB,EAAEE,gBAFpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF;AAQD;;GAlCuBH,I;;KAAAA,I","sourcesContent":["import Head from 'next/head';\nimport axios from 'axios';\nimport Chart from 'chart.js';\nimport {\n  Table,\n  TableCell,\n  TableHead,\n  TableBody,\n  TableRow,\n  TableSortLabel\n} from \"@material-ui/core\";\nimport { useEffect, useState, useRef } from 'react';\nimport BarChart from '../components/BarChart';\nimport TabPanels from '../components/TabPanels';\nimport \"../styles/styles.scss\";\n\nconst prodHost = 'https://wz-api.herokuapp.com';\nconst localhost = 'http://localhost:5500';\n\nconst host = process.env.NODE_ENV === 'production' ? prodHost : localhost;\n\nexport default function Home() {\n\nconst [playerData, setPlayerData] = useState(null);\nconst [playerWeeklyData, setPlayerWeeklyData] = useState(null);\n\nuseEffect(() => {\n  (async () => {\n    if (!playerData) {\n      try {\n        const response = await axios.get(`${host}/`);\n        setPlayerData(response.data);\n      } catch(error) {\n        console.log(error);\n      }\n    }\n    if (!playerWeeklyData) {\n      try {\n        const response = await axios.get(`${host}/weekly`);\n        setPlayerWeeklyData(response.data);\n      } catch(error) {\n        console.log(error);\n      }\n    }\n  })();\n}, []);\n\n  return (\n    <div className=\"container\">\n      <TabPanels\n        playerData={playerData}\n        playerWeeklyData={playerWeeklyData}\n      />\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}